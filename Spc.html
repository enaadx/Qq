<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>اختبار - درس (مقتطف)</title>
<style>
  body{font-family: Tahoma, Arial; direction: rtl; padding:20px; background:#f7f9fc; color:#111}
  h1,h2{margin:10px 0 5px}
  .section{background:#fff;border:1px solid #ddd;padding:15px;margin:12px 0;border-radius:8px}
  .q{margin:10px 0;padding:8px;background:#fbfbfb;border-radius:6px}
  label{display:block;margin:6px 0;cursor:pointer}
  .btn{display:inline-block;padding:10px 14px;border-radius:6px;border:none;background:#2b7cff;color:white;margin-top:10px;cursor:pointer}
  .result{margin-top:12px;padding:10px;background:#eef;border-radius:6px}
  input[type="text"]{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px}
  .correct{color:green;font-weight:bold}
  .wrong{color:red;font-weight:bold}
</style>
</head>
<body>
<h1>اختبار من ٤٠ سؤالًا — مقتطف (قصّة)</h1>
<p>التعليمات: اختبر نفسك في ٤ أقسام — فهم عربي، تفكير لغوي، قواعد (Grammar)، ومعنى الكلمات. بعد الإجابة اضغط "صحّح" في آخر كل قسم.</p>

<!-- Section 1: 10 Arabic comprehension questions -->
<div class="section" id="sec1">
  <h2>القسم الأول — ١٠ أسئلة فهم (بالعربي)</h2>
  <div class="q" id="q1">
    <div>1. من رأى القارب عند وصوله إلى سانت بيترسبيرغ؟</div>
    <label><input type="radio" name="s1q1" value="Huck"> هاك</label>
    <label><input type="radio" name="s1q1" value="Tom"> توم</label>
    <label><input type="radio" name="s1q1" value="Injun"> إنجن جو</label>
  </div>

  <div class="q" id="q2">
    <div>2. أين كان إنجن جو حسب المقتطف؟</div>
    <label><input type="radio" name="s1q2" value="river"> في بناء قديم بجانب النهر</label>
    <label><input type="radio" name="s1q2" value="cave"> في الكهف</label>
    <label><input type="radio" name="s1q2" value="boat"> في القارب</label>
  </div>

  <div class="q" id="q3">
    <div>3. لماذا لم يذهب هاك إلى نزهات أعياد الميلاد عادةً؟</div>
    <label><input type="radio" name="s1q3" value="mothers"> لأن أمهات سانت بيترسبيرغ لم يكنّ يحبنّه</label>
    <label><input type="radio" name="s1q3" value="poverty"> لأنه فقير</label>
    <label><input type="radio" name="s1q3" value="fear"> لأنه كان خائفًا</label>
  </div>

  <div class="q" id="q4">
    <div>4. ماذا كان هدف هاك الليلة؟</div>
    <label><input type="radio" name="s1q4" value="treasure"> البحث عن الكنز</label>
    <label><input type="radio" name="s1q4" value="picnic"> الانضمام إلى النزهة</label>
    <label><input type="radio" name="s1q4" value="sleep"> النوم</label>
  </div>

  <div class="q" id="q5">
    <div>5. ماذا ظن هاك عن صليب إنجن جو؟</div>
    <label><input type="radio" name="s1q5" value="inside"> ربما الصليب داخل المبنى</label>
    <label><input type="radio" name="s1q5" value="lost"> أنه ضائع</label>
    <label><input type="radio" name="s1q5" value="hidden"> أنه مدفون</label>
  </div>

  <div class="q" id="q6">
    <div>6. ماذا حدث في منتصف الليل؟</div>
    <label><input type="radio" name="s1q6" value="rain"> بدأ المطر</label>
    <label><input type="radio" name="s1q6" value="fight"> حدث شجار</label>
    <label><input type="radio" name="s1q6" value="quiet"> ساد الهدوء</label>
  </div>

  <div class="q" id="q7">
    <div>7. كيف شعر هاك عندما عاد القارب إلى سانت بيترسبيرغ؟</div>
    <label><input type="radio" name="s1q7" value="dark"> كان مظلمًا</label>
    <label><input type="radio" name="s1q7" value="happy"> كان سعيدًا</label>
    <label><input type="radio" name="s1q7" value="angry"> كان غاضبًا</label>
  </div>

  <div class="q" id="q8">
    <div>8. كم مرّ وقت انتظار هاك في الشارع؟</div>
    <label><input type="radio" name="s1q8" value="allnight"> انتظر طوال الليل</label>
    <label><input type="radio" name="s1q8" value="fewhours"> بضع ساعات</label>
    <label><input type="radio" name="s1q8" value="untilmorning"> حتى الصباح فقط</label>
  </div>

  <div class="q" id="q9">
    <div>9. ماذا قرر هاك أن يفعل غدًا؟</div>
    <label><input type="radio" name="s1q9" value="tellTom"> أن يخبر توم بالأمر غدًا</label>
    <label><input type="radio" name="s1q9" value="leave"> أن يرحل</label>
    <label><input type="radio" name="s1q9" value="attack"> أن يهاجم إنجن جو</label>
  </div>

  <div class="q" id="q10">
    <div>10. ما الذي يعتقد هاك أنه موجود أيضًا داخل المبنى؟</div>
    <label><input type="radio" name="s1q10" value="box"> صندوق النقود</label>
    <label><input type="radio" name="s1q10" value="map"> خريطة</label>
    <label><input type="radio" name="s1q10" value="rope"> حبل</label>
  </div>

  <button class="btn" onclick="checkSection(1)">صحّح القسم الأول</button>
  <div id="res1" class="result" style="display:none"></div>
</div>

<!-- Section 2: 10 linguistic thinking questions -->
<div class="section" id="sec2">
  <h2>القسم الثاني — ١٠ أسئلة تفكير لغوي</h2>
  <div class="q">
    <div>11. ما الضمير الذي استخدمه النص كثيرًا عند الحديث عن الشخصية الرئيسية؟</div>
    <label><input type="radio" name="s2q11" value="he"> he (هو)</label>
    <label><input type="radio" name="s2q11" value="they"> they (هم)</label>
    <label><input type="radio" name="s2q11" value="we"> we (نحن)</label>
  </div>

  <div class="q">
    <div>12. في الجملة "For hours the children walked and ran through the cave," ما نوع الفعل (ماضٍ أم حاضر)؟</div>
    <label><input type="radio" name="s2q12" value="past"> ماضٍ</label>
    <label><input type="radio" name="s2q12" value="present"> حاضر</label>
    <label><input type="radio" name="s2q12" value="future"> مستقبل</label>
  </div>

  <div class="q">
    <div>13. حدد كلمة تدل على المكان من الجملة: "up and down the tunnels".</div>
    <label><input type="radio" name="s2q13" value="upanddown"> up and down</label>
    <label><input type="radio" name="s2q13" value="tunnels"> tunnels</label>
    <label><input type="radio" name="s2q13" value="the"> the</label>
  </div>

  <div class="q">
    <div>14. ما نوع الجملة "I must wait and watch."؟</div>
    <label><input type="radio" name="s2q14" value="imperative"> أمر</label>
    <label><input type="radio" name="s2q14" value="declarative"> جملة خبرية / تقريرية</label>
    <label><input type="radio" name="s2q14" value="interrogative"> استفهامية</label>
  </div>

  <div class="q">
    <div>15. في "Perhaps," he thought, "Injun Joe’s cross is in there." ما وظيفة كلمة "Perhaps"؟</div>
    <label><input type="radio" name="s2q15" value="maybe"> تعبير عن الاحتمال/ربما</label>
    <label><input type="radio" name="s2q15" value="time"> تعبير عن الزمن</label>
    <label><input type="radio" name="s2q15" value="negation"> نفي</label>
  </div>

  <div class="q">
    <div>16. أكمل: كلمة "treasure" في النص هي اسم أم فعل؟</div>
    <label><input type="radio" name="s2q16" value="noun"> اسم</label>
    <label><input type="radio" name="s2q16" value="verb"> فعل</label>
    <label><input type="radio" name="s2q16" value="adj"> صفة</label>
  </div>

  <div class="q">
    <div>17. ما العلاقة بين الجملتين: "Huck Finn saw the boat, but he did not know about the picnic."؟</div>
    <label><input type="radio" name="s2q17" value="contrast"> تضاد/تناقض</label>
    <label><input type="radio" name="s2q17" value="cause"> سبب و نتيجة</label>
    <label><input type="radio" name="s2q17" value="addition"> إضافة</label>
  </div>

  <div class="q">
    <div>18. ما تأثير استخدام فاصلة بعد "Tom" في "Tom, of course, knew them well."؟</div>
    <label><input type="radio" name="s2q18" value="emphasis"> توكيد أو فاصل (inserted phrase)</label>
    <label><input type="radio" name="s2q18" value="question"> تحويلها إلى سؤال</label>
    <label><input type="radio" name="s2q18" value="negation"> نفي</label>
  </div>

  <div class="q">
    <div>19. ما نوع العبارة "I can tell Tom about it tomorrow."؟</div>
    <label><input type="radio" name="s2q19" value="promise"> نية/عرض إخبار</label>
    <label><input type="radio" name="s2q19" value="command"> أمر</label>
    <label><input type="radio" name="s2q19" value="question"> سؤال</label>
  </div>

  <div class="q">
    <div>20. ما الصفة الدالة على الوقت في المقتطف؟</div>
    <label><input type="radio" name="s2q20" value="midnight"> midnight (منتصف الليل)</label>
    <label><input type="radio" name="s2q20" value="soon"> soon</label>
    <label><input type="radio" name="s2q20" value="yesterday"> yesterday</label>
  </div>

  <button class="btn" onclick="checkSection(2)">صحّح القسم الثاني</button>
  <div id="res2" class="result" style="display:none"></div>
</div>

<!-- Section 3: Grammar questions -->
<div class="section" id="sec3">
  <h2>القسم الثالث — ١٠ أسئلة قواعد (Grammar)</h2>

  <div class="q">
    <div>21. اختر الصيغة الصحيحة للفعل: "When the boat _____ back in St Petersburg, it was dark." </div>
    <label><input type="radio" name="s3q21" value="arrive"> arrive</label>
    <label><input type="radio" name="s3q21" value="arrived"> arrived</label>
    <label><input type="radio" name="s3q21" value="arrives"> arrives</label>
  </div>

  <div class="q">
    <div>22. أي من التالي يُعَدّ فاعلًا في الجملة: "The mothers of St Petersburg did not like him."؟</div>
    <label><input type="radio" name="s3q22" value="mothers"> The mothers of St Petersburg</label>
    <label><input type="radio" name="s3q22" value="him"> him</label>
    <label><input type="radio" name="s3q22" value="did"> did</label>
  </div>

  <div class="q">
    <div>23. ما زمن الجملة: "But tonight Huck was only interested in treasure"؟</div>
    <label><input type="radio" name="s3q23" value="past"> Past (الماضي)</label>
    <label><input type="radio" name="s3q23" value="present"> Present</label>
    <label><input type="radio" name="s3q23" value="future"> Future</label>
  </div>

  <div class="q">
    <div>24. أي أداة ربط مناسبة لربط "wait" و "watch" في "I must wait and watch."؟</div>
    <label><input type="radio" name="s3q24" value="and"> and</label>
    <label><input type="radio" name="s3q24" value="but"> but</label>
    <label><input type="radio" name="s3q24" value="or"> or</label>
  </div>

  <div class="q">
    <div>25. في العبارة "but he did not know about the picnic." ما نوع النفي؟</div>
    <label><input type="radio" name="s3q25" value="didnot"> Past simple negative</label>
    <label><input type="radio" name="s3q25" value="nothave"> Present perfect negative</label>
    <label><input type="radio" name="s3q25" value="cant"> modal negative</label>
  </div>

  <div class="q">
    <div>26. اختر الشكل الصحيح: "Perhaps he thought Injun Joe’s cross ____ in there." </div>
    <label><input type="radio" name="s3q26" value="is"> is</label>
    <label><input type="radio" name="s3q26" value="was"> was</label>
    <label><input type="radio" name="s3q26" value="will"> will be</label>
  </div>

  <div class="q">
    <div>27. حوّل الجملة إلى سؤال: "He did not go to birthday picnics, of course." ماذا يصبح؟</div>
    <label><input type="radio" name="s3q27" value="Didhe"> Did he go to birthday picnics?</label>
    <label><input type="radio" name="s3q27" value="Hedid"> He did not go to birthday picnics?</label>
    <label><input type="radio" name="s3q27" value="Doeshe"> Does he go to birthday picnics?</label>
  </div>

  <div class="q">
    <div>28. اختر الضمير الصحيح لملء الفراغ: "___ waited in the street near the building." </div>
    <label><input type="radio" name="s3q28" value="He"> He</label>
    <label><input type="radio" name="s3q28" value="They"> They</label>
    <label><input type="radio" name="s3q28" value="We"> We</label>
  </div>

  <div class="q">
    <div>29. أي كلمة في الجملة التالية تدل على التعارض: "Huck Finn saw the boat, but he did not know about the picnic."؟</div>
    <label><input type="radio" name="s3q29" value="but"> but</label>
    <label><input type="radio" name="s3q29" value="saw"> saw</label>
    <label><input type="radio" name="s3q29" value="the"> the</label>
  </div>

  <div class="q">
    <div>30. أي زمن مناسب للجملة: "and Huck waited in the street near the building."؟</div>
    <label><input type="radio" name="s3q30" value="past"> Past Simple</label>
    <label><input type="radio" name="s3q30" value="present"> Present Continuous</label>
    <label><input type="radio" name="s3q30" value="future"> Future Simple</label>
  </div>

  <button class="btn" onclick="checkSection(3)">صحّح القسم الثالث</button>
  <div id="res3" class="result" style="display:none"></div>
</div>

<!-- Section 4: Hardest words -->
<div class="section" id="sec4">
  <h2>القسم الرابع — ١٠ أسئلة: أصعب الكلمات (اختر المعنى بالعربي)</h2>

  <div class="q">
    <div>31. "tunnels" تعني:</div>
    <label><input type="radio" name="s4q31" value="أنفاق"> أنفاق</label>
    <label><input type="radio" name="s4q31" value="غرف"> غرف</label>
    <label><input type="radio" name="s4q31" value="أسوار"> أسوار</label>
  </div>

  <div class="q">
    <div>32. "cave" تعني:</div>
    <label><input type="radio" name="s4q32" value="كهف"> كهف</label>
    <label><input type="radio" name="s4q32" value="نهر"> نهر</label>
    <label><input type="radio" name="s4q32" value="قارب"> قارب</label>
  </div>

  <div class="q">
    <div>33. "picnic" تعني:</div>
    <label><input type="radio" name="s4q33" value="نزهة"> نزهة</label>
    <label><input type="radio" name="s4q33" value="حفلة"> حفلة</label>
    <label><input type="radio" name="s4q33" value="سرقة"> سرقة</label>
  </div>

  <div class="q">
    <div>34. "treasure" تعني:</div>
    <label><input type="radio" name="s4q34" value="كنز"> كنز</label>
    <label><input type="radio" name="s4q34" value="مشكلة"> مشكلة</label>
    <label><input type="radio" name="s4q34" value="باب"> باب</label>
  </div>

  <div class="q">
    <div>35. "arrived" تعني:</div>
    <label><input type="radio" name="s4q35" value="وصل"> وصل</label>
    <label><input type="radio" name="s4q35" value="غادر"> غادر</label>
    <label><input type="radio" name="s4q35" value="بكى"> بكى</label>
  </div>

  <div class="q">
    <div>36. "waited" تعني:</div>
    <label><input type="radio" name="s4q36" value="انتظر"> انتظر</label>
    <label><input type="radio" name="s4q36" value="ركض"> ركض</label>
    <label><input type="radio" name="s4q36" value="ضحك"> ضحك</label>
  </div>

  <div class="q">
    <div>37. "cross" في سياق القصة تعني:</div>
    <label><input type="radio" name="s4q37" value="صليب"> صليب</label>
    <label><input type="radio" name="s4q37" value="عبر"> عبر</label>
    <label><input type="radio" name="s4q37" value="خريطة"> خريطة</label>
  </div>

  <div class="q">
    <div>38. "box of money" يعني:</div>
    <label><input type="radio" name="s4q38" value="صندوق نقود"> صندوق نقود</label>
    <label><input type="radio" name="s4q38" value="خريطة كنز"> خريطة كنز</label>
    <label><input type="radio" name="s4q38" value="قارب"> قارب</label>
  </div>

  <div class="q">
    <div>39. "midnight" تعني:</div>
    <label><input type="radio" name="s4q39" value="منتصف الليل"> منتصف الليل</label>
    <label><input type="radio" name="s4q39" value="الظهيرة"> الظهيرة</label>
    <label><input type="radio" name="s4q39" value="الفجر"> الفجر</label>
  </div>

  <div class="q">
    <div>40. "street" تعني:</div>
    <label><input type="radio" name="s4q40" value="شارع"> شارع</label>
    <label><input type="radio" name="s4q40" value="حديقة"> حديقة</label>
    <label><input type="radio" name="s4q40" value="غرفة"> غرفة</label>
  </div>

  <button class="btn" onclick="checkSection(4)">صحّح القسم الرابع</button>
  <div id="res4" class="result" style="display:none"></div>
</div>

<!-- Overall summary -->
<div style="text-align:center;margin-top:20px">
  <button class="btn" onclick="showSummary()">أظهر نتيجة كاملة</button>
  <div id="summary" class="result" style="display:none"></div>
</div>

<script>
// Correct answers map
const answers = {
  // section1
  "s1q1":"Huck","s1q2":"river","s1q3":"mothers","s1q4":"treasure","s1q5":"inside","s1q6":"rain","s1q7":"dark","s1q8":"allnight","s1q9":"tellTom","s1q10":"box",
  // section2
  "s2q11":"he","s2q12":"past","s2q13":"upanddown","s2q14":"declarative","s2q15":"maybe","s2q16":"noun","s2q17":"contrast","s2q18":"emphasis","s2q19":"promise","s2q20":"midnight",
  // section3
  "s3q21":"arrived","s3q22":"mothers","s3q23":"past","s3q24":"and","s3q25":"didnot","s3q26":"was","s3q27":"Didhe","s3q28":"He","s3q29":"but","s3q30":"past",
  // section4
  "s4q31":"أنفاق","s4q32":"كهف","s4q33":"نزهة","s4q34":"كنز","s4q35":"وصل","s4q36":"انتظر","s4q37":"صليب","s4q38":"صندوق نقود","s4q39":"منتصف الليل","s4q40":"شارع"
};

function checkSection(sec){
  let start = (sec-1)*10+1;
  let end = sec*10;
  let correct = 0;
  let total = 10;
  let details = [];
  for(let i=start;i<=end;i++){
    let qid = "s"+sec+"q"+i;
    let name = qid;
    let els = document.getElementsByName(name);
    let val = null;
    for(let e of els){ if(e.checked) val = e.value; }
    if(val === null) {
      details.push(i + ". لم تجب بعد.");
    } else if(val === answers[name]){
      correct++;
      details.push(i + ". إجابة صحيحة.");
    } else {
      details.push(i + ". إجابة خاطئة.");
    }
  }
  let resBox = document.getElementById("res"+sec);
  resBox.style.display = "block";
  resBox.innerHTML = "النتيجة: " + correct + " من " + total + "<br><br>" + details.join("<br>");
}

function showSummary(){
  // compute all
  let totalCorrect=0, totalQ=40;
  for(let key in answers){
    let els = document.getElementsByName(key);
    let val=null;
    for(let e of els){ if(e.checked) val=e.value; }
    if(val===answers[key]) totalCorrect++;
  }
  document.getElementById("summary").style.display="block";
  document.getElementById("summary").innerHTML = "النتيجة الكاملة: " + totalCorrect + " / " + totalQ +
    "<br>يمكنك تصحيح كل قسم على حدة أيضاً.";
}
</script>

</body>
</html>